require 'retout'

# client init and auth
client = ReTout.client("5fb8f651e3b0cc32b05c8615359dbe5b7d9ef72b97dac38ff97a189a87cacd31",
                                 "f678d51356c6299e564164ff5bdadfdaabcf545f957293411a4bacc249c3fb44",
                                 "http://localhost")

#fail()

# client_credential, read only
client.auth()

puts '######################'
puts '# me api usage'
puts '######################'
client.get_me()


puts '######################'
puts '# search api usage'
puts '######################'

hashtags = client.search_hashtags('lol', 2, 4)
p hashtags.pagination
p hashtags

users = client.search_users('aaron', 2, 4)
p users.pagination
p users

touts = client.search_touts('lol', 2, 4)
p users.pagination
p touts

puts '######################'
puts '# users api usage'
puts '######################'

users = client.search_users('aaronterrell')
p users.pagination
p users

p users.users[0].uid

user = client.retrieve_user(uid)
p user
p user.fullname

likes = client.retrieve_user_likes(uid)
p likes

touts = client.retrieve_user_touts(uid)
p touts.pagination
p touts.touts

users = client.retrieve_user_followers(uid)
p users.pagination
p users

puts '######################'
puts '# touts api usage'
puts '######################'

touts = client.featured_touts()
p touts.pagination
p touts

touts = client.latest_touts()
p touts.pagination
p touts

conversation = client.retrieve_conversation("iummti53")
p conversation
